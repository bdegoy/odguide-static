var initialWidth,initialHeight,backgroundWidth,backgroundHeight;$(document).on("ready",function(){var i,a,n,o;$("#background")&&(i=$("#background"),backgroundWidth=i.width(),backgroundHeight=i.height(),a=function(i,t){initialWidth=i,initialHeight=t,function(){var i,t,a,n=document.getElementById("backgroundmap").getElementsByTagName("area"),o=n.length,e=[];for(i=0;i<o;i++)e[i]=n[i].coords.split(",");var r=backgroundHeight/initialHeight,d=(initialWidth*r-backgroundWidth)/2;for(i=0;i<o;i++){for(a=e[i].length,t=0;t<a;t++)t%2==0?e[i][t]=e[i][t]*r-d:e[i][t]*=r;n[i].coords=e[i].join(",");var c=$('<div class="area"></div>').css({position:"absolute",left:e[i][0]+(e[i][2]-e[i][0])/2,top:e[i][1]+8}).width(8).height(8).css("background-color","white");$(".backg").append(c)}$(".area").hover(function(){$(this).css("border","1px solid white")},function(){$(this).css("border","none")})}()},n=$(i),o=setInterval(function(){var i=n[0].naturalWidth,t=n[0].naturalHeight;i&&t&&(clearInterval(o),a.apply(this,[i,t]))},30))});