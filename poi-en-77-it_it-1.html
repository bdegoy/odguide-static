<!-- odg2html/sequence.html -->
<!DOCTYPE HTML>
<!-- plugins/odg2html/inclure/render_head.html -->
<html class="page_sequence ltr fr no-js" lang="fr" dir="ltr">
<head>
    <script type='text/javascript'>/*<![CDATA[*/(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement);/*]]>*/</script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>O-DGuide</title>
    <link rel="icon" type="image/x-icon" href="/plugins/auto/spipr_dist/v2.2.9/favicon.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="/plugins/auto/spipr_dist/v2.2.9/favicon.ico" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="MobileOptimized" content="width" />
    <meta name="HandheldFriendly" content="true" />
    <link rel="stylesheet" href="/local/cache-scss/bootstrap-cssify-1a343f7.css?1666617189" type="text/css" />
    
    <!-- insert_head_css -->
    <script type='text/javascript'>var var_zajax_content='content';</script><script type="text/javascript">/* <![CDATA[ */
var box_settings = {tt_img:true,sel_g:"#documents_portfolio a[type='image/jpeg'],#documents_portfolio a[type='image/png'],#documents_portfolio a[type='image/gif']",sel_c:".mediabox",trans:"elastic",speed:"200",ssSpeed:"2500",maxW:"90%",maxH:"90%",minW:"400px",minH:"",opa:"0.9",str_ssStart:"Diaporama",str_ssStop:"Arrêter",str_cur:"{current}/{total}",str_prev:"Précédent",str_next:"Suivant",str_close:"Fermer",splash_url:""};
var box_settings_splash_width = "600px";
var box_settings_splash_height = "90%";
var box_settings_iframe = true;
/* ]]> */</script>
<!-- insert_head_css --><link rel='stylesheet' href='local/cache-css/ea7dbe358b0f5a1470d8fd2fcd9eff50.css?1666620483' type='text/css' />











    
    <style type="text/css">
      .nav-sticky {
          position: sticky;
          top:0;
      }
    </style>
    <link rel="stylesheet" href="/plugins/odg2html/css/render.scss?1653658773" type="text/css" />
    
    <!-- insert_head -->
    
<script type='text/javascript' src='local/cache-js/873730be1c1480a73d976a96d1eed677.js?1666620484'></script>


















<!-- insert_head -->
	
	
<script>htactif=1;document.createElement('picture'); var image_responsive_retina_hq = 0;</script><script>image_responsive_retina_hq = 1;</script>




		
    
    <!-- Render avec Bootstrap -->
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-util.js"></script>
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-button.js"></script>
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-collapse.js"></script>
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-modal.js"></script>
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-scrollspy.js"></script>
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-tab.js"></script>
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-toast.js"></script>
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-tooltip.js"></script>
    <script type="text/javascript" src="/plugins/auto/bootstrap4/v4.6.1.1/bootstrap/js/bootstrap-popover.js"></script>
    
<!-- Plugin Métas + -->
<!-- Dublin Core -->
<link rel="schema.DC" href="https://purl.org/dc/elements/1.1/" />
<link rel="schema.DCTERMS" href="https://purl.org/dc/terms/" />
<meta name="DC.Format" content="text/html" />
<meta name="DC.Type" content="Text" />
<meta name="DC.Language" scheme="rfc1766" content="fr" />


<meta name="DC.Date" scheme="DCTERMS.W3CDTF" content="2022-10-25" />

<meta name="DC.Identifier" scheme="URI" content="https://odgproto.dnc.global/spip.php?page=sequence" />
<meta name="DC.Publisher" content="O-DGuide" />
<meta name="DC.Source" scheme="URI" content="https://odgproto.dnc.global" />

<meta name="DC.Creator" content="O-DGuide" />





<!-- Open Graph -->

<meta property="og:site_name" content="O-DGuide" />
<meta property="og:type" content="website" />

<meta property="og:locale" content="fr_FR" />
<meta property="og:url" content="https://odgproto.dnc.global/spip.php?page=sequence" />








<!-- Twitter Card -->
<meta name="twitter:card" content="summary" />


<meta name="twitter:dnt" content="on" />
<meta name="twitter:url" content="https://odgproto.dnc.global/spip.php?page=sequence" />
</head><body class="page ">
    <div class="container-fluid page ENV{type-page}">
        <div id="content">
            <script>
            //[002y] Créer une référence globale à l'audio
                var audiocontrol;
                $(document).ready(function(){ 
                    // Un élément audio HTML5 est-il présent ?
                    try {
                        audiocontrol = document.getElementById("audiocontrol");
                        if ( audiocontrol !== null) console.log('HTML5 audiocontrol element found');
                    } catch(e){};   
                    if ( audiocontrol === null ) {
                        // Créer un objet audiocontrol        
                        try {
                            audiocontrol = document.createElement('audio');
                            if ( audiocontrol !== null) console.log('audiocontrol object created');    
                        } catch(e) {
                            console.log('Error creating audiocontrol object :' + e.message);    
                        }      
                    }
                    if ( typeof audiocontrol !== 'object') {
                        console.log('Fatal Error : No audiocontrol');
                    }  
                });     
            </script>
            
            
                
                    
                    
                        <!-- odg2html/inclure/render_sequence.html -->




    
    
        

    <div class="row render"> 


            <script>                                                    
            //[002aa] Configurer les variables nécessaires pour gérer l'enchainement par sequence.js .
                var auto = "non";
            </script>

            <div class="col main">

                
                
                                                           
                        
                  

                
                <style>
                    body{background-color:#DCD5C9}
#sequence{padding-top:12px}
.navbar{z-index:100}
.navbar-brand{padding-left:6px}
.liste-seq{background-color:rgba(0,0,0,0)!important}
.qrc-reader-style-spe,.scan-style-specifique{background-color:rgba(0,0,0,0)!important}
.page_sequence .render .main .front-layer{top:0!important}
.highlight-clean .buttons{text-align:center;margin-top:9px}
.highlight-clean .buttons .btn{padding:16px 32px;margin:6px;border:none;background:none;box-shadow:none;text-shadow:none;opacity:0.9;text-transform:uppercase;font-weight:700;font-size:13px;letter-spacing:0.4px;line-height:1;outline:none;background-color:#ddd}
.highlight-clean .buttons .btn:hover{opacity:1}
.highlight-clean .buttons .btn:active{transform:translateY(1px)}
.highlight-clean .buttons .btn-primary{background-color:#0c503d;color:#fff}            
                    body{background: #fff!important;}
.row.titre{background-color:transparent;}
.row.titre .col.text-center{
background-color:rgba(239,239,239,0.8);
padding-right:7px;
padding-left:7px;
color:#413d3d;
border-radius:3px;}
.row.mediacontrol .col.text-center{
position:fixed;
bottom:1.5em;}
#audiocontrol{
background-color:rgb(234,82,56);
border-radius:3px;}
.navbar-brand{margin-left:0.5em;}
#nav{background:#ee715c!important;}
#nav li{background-color:transparent;}
.liste-seq h1, .liste-lg h1{color:#ea5339;}
.liste-seq h4, .liste-lg h4{color:#413d3d;}
.liste-seq li, .liste-lg li{margin-bottom:0.5em!important;
color:#ea5339!important;}
.liste-seq ul li a, .liste-lg ul li a{color:#413d3d!important;}
                    .navbar.navbar-dark{background-color:#ee715c!important;}
.header-dark{background-color:#fff;}
#play-btn{background-color:#ee715c;}
.intro h2{color:#413d3d;}            
                </style>

                
                
                <!-- odg2html/render/cartographie/main.html -->


    
          
                                                 
            
      

    <div class="front-layer">

        
        <!-- odg2html/inclure/render_navbar.html -->
<nav class="navbar navbar-light navbar-expand-lg navigation-clean fixed-top " style="z-index:100;">
    <div id="menuBasic" class="container">
     
        <button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1">
            <span class="sr-only">Toggle navigation</span>
            <i class="fa fa-thin fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navcol-1">
            <ul class="navbar-nav">
                
                <li class="nav-item"><a class="nav-link" href="/poi-en-77.html">Language</a></li>
                <li class="nav-item"><a class="nav-link" href="/poi-en.html">New Visit</a></li>
                <li class="nav-item"><a class="nav-link" href="/poi-en-77-it_it-1.html">Restart from the begining</a></li>
                <li class="nav-item"><a class="nav-link" href="/poi-en-77-it_it.html">List of sequences</a></li>
                <li class="nav-item vitesselecture"><a class="nav-link" href="/poi-en-77-it_it-.html">Reading speed</a></li>  
                <li class="nav-item"><a class="nav-link" href="aid-en.html">Help</a></li>
            </ul>
        </div>
    </div>  
</nav> 

        
        
                
           
        <div class="row">
            <div class="col backg" style="position:relative;">
                <div id="map10" class="carte_gis" style="width:100%; height:400px;">
</div>

<script type="text/javascript">/*<![CDATA[*/

    var map10;
    var jQgisloader;

    // Charger le javascript de GIS une seule fois si plusieurs cartes
    if (typeof jQgisloader=="undefined"){
        jQgisloader = jQuery.ajax({url: 'local/cache-js/jsdyn-javascript_gis_js-e1240eba.js?1666620537', dataType: 'script', cache: true});
    }
    // et initialiser la carte (des que js GIS charge et des que DOM ready)
    jQgisloader.done(function(){
    jQuery(function(){
        map10 = new L.Map.Gis('map10',{
            mapId: '10',
            callback: (typeof(callback_map10) === "function") ? callback_map10 : false,
            center: [48.00523517718609,4.370584487915038],
            measureControl: false, //[leaflet2]
            zoom: 17,
                        scrollWheelZoom: true,
                        zoomControl: true,
                        fullscreenControl: false,
                        scaleControl: false,
                        overviewControl:false,
                        layersControl: true,
                        layersControlOptions: {
                            collapsed: true
                        },
                        noControl: false,
                        utiliser_bb: false,
                        affiche_points: true,
                        json_points:{
                            url: 'https://odgproto.dnc.global/spip.php?page=gis_json',
                                objets: 'sequences',
                            limit: 100,
                            env: {"id_audioguide":"77"},
                                titre: "",
                                description: "",
                                icone: ""
                        },
                        cluster: true,
                        clusterOptions: {
                            disableClusteringAtZoom: 17,
                            showCoverageOnHover: false,
                            spiderfyOnMaxZoom: false,
                            maxClusterRadius: 20
                        },
                        pathStyles: null,
                        autocenterandzoom: false,
                        openId: false,
                        localize_visitor: false,
                        localize_visitor_zoom: 17,
                        centrer_fichier: true,
                        kml: false,
                        gpx: false,
                        //geojson: false
            });

        });

    });

    /*]]>*/
</script>
                <div class="position:absolute;left:16px;bottom:30px;">
                    <a id="btn-navexpl" class="leaflet-bar" data-navexpl="0" title="Exploration mode">Exploration mode</a>
                </div>         
            </div>

        </div>

        <!--
        <div class="row">
        <div class="col text-center backg">
        <div id="infoposition">***</div>    
        </div>
        </div>
        -->

        <section class="highlight-clean">
    <div class="container" style="position: relative;">
        <div class="intro">
            <h2 class="text-center">Orientamento</h2>
        </div>
        <span class="current-time">00:00</span>
        <span class="song-duration" style="right: 15px;position: absolute;">00:00</span>
        <div class="slider" id="duration-container">
            <div class="progress" id="duration" >

            </div>
        </div>
        <div class="buttons">
            
            <a class="btn btn-primary" id="play-btn" data-statut="pause" >Play </a>
             
            <button id="btn_Next" class="btn btn-light" type="button" data-action="poi-fr-77-it_it-2.html">Next</button>
            
        </div>
    </div>
</section>

<section>
    <div class="container" style="background-color:rgba(0,0,0,0);">
        <div class="progress" style="width: 35%;height: 8px;margin: 50px auto;margin-top: 10px; "></div>

        <div class="row"> 
            <div class="col-md-8 offset-md-2">
                <h2 class="text-center">Selezionare un punto sulla mappa</h2>         
            </div>  
        </div>
    </div>    
</section>

    </div>

    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    <script>
        const audiofile = "IMG/mp3/seq789.mp3";  //TODO: start : TBC
        const FIT = false;  // l'image est responsive

        // pour cartographie/script.js 
        const MODE_EXPLORATION = "Exploration mode";
        const MODE_NAVIGATION = "Navigation mode"; 
        const ERROR_NOT_SUPPORTED = "Your browser does not support geolocation. Check the configuration";
        const ERROR_TIMEOUT ="Timeout";
        const ERROR_BROWSER ="Your browser does not support geolocation. Check the configuration";
        const ERROR_LOCALISATION ="Error during geolocation";
        const ERROR_PERMISSION_DENIED ="You did not give permission";
        const ERROR_POSITION_UNAVAILABLE ="The position could not be determined";
        const ERROR_UNKNOWN ="Unknown error";
        const POS_ODG_LAT = "48.00523517718609";
        const POS_ODG_LON = "4.370584487915038";
        const POS_ODG_ZOOM = "17";
        const POINTS = "[{ids:'858',nom:'Décors peints intérieurs ',lat:'48.004933689215314',lon:'4.369989037513733'},{ids:'864',nom:'Le pigeonnier  du château de Taisne',lat:'48.00428',lon:'4.37176'},{ids:'870',nom:'Les écuries du château de Taisne',lat:'48.00446',lon:'4.37046'},{ids:'882',nom:'Le parc et les jardins - suite-',lat:'48.00586',lon:'4.37088'},{ids:'791',nom:'Les Riceys en Champagne depuis l&#8217;an 719',lat:'48.00459630773009',lon:'4.370090961456298'},{ids:'797',nom:'Le château médiéval&nbsp;: de Robert 1er au chancelier Nicolas Rolin&nbsp;',lat:'48.00476858791318',lon:'4.370096325874329'},{ids:'803',nom:'Le XVIe siècle&nbsp;: de Marie d’Amboise à Urbain de Créquy',lat:'48.00496',lon:'4.37021'},{ids:'809',nom:'Le XVIIe siècle des Vignier ',lat:'48.00493',lon:'4.37033'},{ids:'815',nom:'La famille de Pomereu au XVIIIème siècle',lat:'48.00489',lon:'4.37047'},{ids:'822',nom:'La famille Hoüet ',lat:'48.00485',lon:'4.37064'},{ids:'828',nom:'Anna Levasseur de Biarre  et Charles de Taisne',lat:'48.00498',lon:'4.37072'},{ids:'834',nom:'Première promenade (video)',lat:'48.007410145332244',lon:'4.371625185012817'},{ids:'840',nom:'Angelo de Taisne, puis Charles et Ségolène de Taisne ',lat:'48.00502',lon:'4.37055'},{ids:'846',nom:'Le Cellier du XIIe',lat:'48.0051',lon:'4.37009'}]";  // Points d'intérêt. Ne sert qu'à la détection de proximité et la notification. Ne joue pas sur la sélection des séquences affichées.
        const POI_NOTIFICATION_DIST = 20; // Rayon (m) de déclenchement de la notification à proximité d'un POI, pour zoom = 18
        const MSG_NOTIFICATION_PROXIMITE = "O-DGuide : à proximité du point";
        const MSG_NOTIFICATION_ECOUTER = "écouter la séquence"; 
    </script>
                <script>
$(document).ready(function(){
var idwatch;
var mapositionMarker;
var markerTo;
var snd=new Audio("data:audio/mpeg;base64,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wZ0G7jqlt/OcDIKX+/1NblSX+VKfQfP8xuJJGk7////rf////+PgXTv///1JThJJQainmySAB6imUyuVbVttUo7T4Csa821OuF88f62+CZHFnGf///mQgYIEO0SMF2NVy9NxYTdlqJ8AuS4zr//SJoTUJ+CaKKTcZvosrUPo8W/MUv0f033E9E/QpN6P///v/////WRR2mwUAYUABjabRu1vrOLKAF0kIdHjnEx/iNWo7jGn1////mApxNTJQQOU1Het/NoUFTMQs6Vja///THaGIl/0fojl8mjd/Jo8W+ZfpNpCajsz7////6kn/////WRRgDz//LD1KSTDjKOciSAKxdLx5S31uYqKIWj/+5JECgAC8V5M6g9rdFyr6Vo9rW6KtHcr5DEJQRkSpLRklSigvVc4QpmyPe9H3zHR1/in9P/8VNCMJOzYUDyVjfwHP0ZgiZt/3/+9EBnDKbegdUrckhgntHaQ9vX/X/9A/////+r/////mJ3/9ItRcoVRogAcmV9N8z0pvES8QQsKoMGXEymPQyWm6E4HQLqgpv/CZJAtYXQSwoF8e6SB56zABEoW+qgZjJAZovGr0Gl5/OjFKL3JwnaX9v7/X8y1f/////////49WAzMzEYYMZLq6CUANIqbDX7lisBIdraAEPwShTRc9WZ2vAqBc4NQ9GrUNaw0Czcrte0g1NEoiU8NFjx4NFh54FSwlOlgaCp0S3hqo8SLOh3/63f7P/KgKJxxhgGSnAFMCnIogwU5JoqBIDAuBIiNLETyFmiImtYiDTSlb8ziIFYSFv/QPC38zyxEOuPeVGHQ77r/1u/+kq49//6g4gjoVQSUMYQUSAP8PwRcZIyh2kCI2OwkZICZmaZxgnsNY8DmSCWX0idhtz3VTJSqErTSB//1X7TTTVVV//uSZB2P8xwRJ4HvYcItQlWBACM4AAABpAAAACAAADSAAAAEVf/+qCE000VVVVU0002//+qqqqummmmr///qqqppppoqqqqppppoqqATkEjIyIxBlBA5KwUEDBBwkFhYWFhUVFfiqhYWFhcVFRUVFv/Ff/xUVFRYWFpMQU1FMy45OS41qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==");
var curZoom=POS_ODG_ZOOM;
var dmin=POI_NOTIFICATION_DIST*2**(18-POS_ODG_ZOOM);
var navZoom=POS_ODG_ZOOM;
var expLat=POS_ODG_LAT;
var expLon=POS_ODG_LON;
var expZoom=POS_ODG_ZOOM;
var PoiNotified=[];
$("#btn-navexpl").on("click",function(){
if($(this).data("navexpl")==1){
$(this).data("navexpl",0);
$("#btn-navexpl").html(MODE_EXPLORATION);
navZoom=map10.getZoom();
navigator.geolocation.clearWatch(idwatch);
map10.panTo([expLat,expLon]);
map10.setZoom(expZoom);
}
else{
$(this).data("navexpl",1);
$("#btn-navexpl").html(MODE_NAVIGATION);
expLat=map10.getCenter().lat;
expLon=map10.getCenter().lng;
expZoom=map10.getZoom();
PoiNotified=[];
try{
if(navigator.geolocation){
idwatch=navigator.geolocation.watchPosition(recaler,erreurPosition,{maximumAge:600000,enableHighAccuracy:true});
}
else alert(ERROR_NOT_SUPPORTED);
}catch(e){
var error;
error.code=e;
erreurPosition(error);
}
map10.setZoom(navZoom);
}
map10.on('zoomend',function(){
curZoom=map10.getZoom();
if($("#btn-navexpl").data("navexpl")==1){
navZoom=curZoom;
dmin=POI_NOTIFICATION_DIST*2**(18-curZoom);
}else{
expZoom=curZoom;
}
});
});
function recaler(position){
var lat=position.coords.latitude;
var lon=position.coords.longitude;
map10.panTo([lat,lon]);
map10.setZoom(navZoom);
try{
mapositionMarker.setLatLng([lat,lon]).update();
}catch(e){
mapositionMarker=new L.marker;
mapositionMarker.addTo(map10);
mapositionMarker.setLatLng([lat,lon]).update();
}
eval('var apois='+POINTS);
apois.forEach(function(poi){
var from=mapositionMarker.getLatLng();
var to=new L.latLng(poi.lat,poi.lon);
var distance=from.distanceTo(to);
if(distance<POI_NOTIFICATION_DIST){
try{
markerTo.setLatLng([poi.lat,poi.lon]).update();
}catch(e){
markerTo=new L.circleMarker([poi.lat,poi.lon],{color:"#F00",fill:false,radius:10});
markerTo.addTo(map10);
}
notifyMe(poi,MSG_NOTIFICATION_PROXIMITE+' '+poi.nom);
}
});
}
function erreurPosition(error){
var info=ERROR_LOCALISATION+' : ';
switch(error.code){
case error.TIMEOUT:
info+=ERROR_TIMEOUT;
break;
case error.PERMISSION_DENIED:
info+=ERROR_PERMISSION_DENIED;
break;
case error.POSITION_UNAVAILABLE:
info+=ERROR_POSITION_UNAVAILABLE;
break;
case error.UNKNOWN_ERROR:
info+=ERROR_UNKNOWN;
break;
default:
info+=error;
break;
}
document.getElementById("infoposition").innerHTML=info;
}
function notifyMe(poi,message){
if(!PoiNotified[poi.ids]){
snd.play();
if('Notification'in window){
if(Notification.permission==='granted'){
notifyMeDoIt(poi,message)
}
else if(Notification.permission!=='denied'){
Notification.requestPermission().then((permission)=>{
if(permission==='granted'){
notifyMeDoIt(poi,message)
}
})
}
}
}
}
function notifyMeDoIt(poi,message){
const options={
body:MSG_NOTIFICATION_ECOUTER+' : https://odgproto.dnc.global/s'+poi.ids,
requireInteraction:true
};
const notification=new Notification(message,options)
PoiNotified=[];
PoiNotified[poi.ids]=1;
}
var currentTime=$(".current-time");
var songDuration=$(".song-duration");
var durationContainer=$("#duration-container");
var duration=$("#duration");
durationContainer.click(setProgress);
var Timeout;
audiocontrol.setAttribute('src',audiofile);
audiocontrol.setAttribute('autoplay',true);
audiocontrol.addEventListener('loadeddata',function(){
songDuration.text(formatTime(audiocontrol.duration));
audiocontrol.play();
$("#play-btn").data("statut","play");
},false);
audiocontrol.addEventListener("playing",function(){
$("#play-btn").html('Pause');
$("#play-btn").data("statut","pause");
});
audiocontrol.addEventListener("pause",function(){
$("#play-btn").html('Play');
$("#play-btn").data("statut","play");
});
$('#play-btn').click(function(){
if($("#play-btn").data("statut")=="pause"){
audiocontrol.pause();
}else{
audiocontrol.play();
}
});
audiocontrol.addEventListener("timeupdate",function(){
currentTime.text(formatTime(audiocontrol.currentTime));
$("#duration").css("width",audiocontrol.currentTime/audiocontrol.duration*100+'%');
});
function setProgress(event){
var totalWidth=this.clientWidth;
var progressWidth=event.offsetX;
var current=(progressWidth/totalWidth)*audiocontrol.duration;
audiocontrol.currentTime=current;
}
function formatTime(time){
var min=Math.floor(time/60);
if(min<10){
min='0'+min;
}
var sec=Math.floor(time%60);
if(sec<10){
sec='0'+sec;
}
return min+':'+sec;
}
$("#duration").on("change",function(){
audiocontrol.currentTime=$(this).val();
});
});
</script> 

            </div>



    </div> 


 
<script>  // PHP initialise quelques variables pour sequence.js
    const STR_VITESSE_LECTURE = "Vitesse de lecture";
</script>
<script type='text/javascript' src="plugins/odg2html/js/sequence.js"></script>


<div class="modal text-center" id="speeddialog" role="dialog" style="z-index:2000;">
    <span id="btn_Moins" class="btn small speed speedmoins" title="Moins rapide">Moins rapide</span>&nbsp;
    <span id="btn_Normal" class="btn small speed speednormal" title="Normale">Normale</span>&nbsp;
    <span id="btn_Plus" class="btn small speed speedplus" title="Plus rapide">Plus rapide</span>
    <p id="speedcontainer">
        <br/>
        Vitesse : <span id="displayspeed"></span>
    </p> 
</div>                    
                
            
        </div>    
    </div>
</body>                                                                                                               
</html>
